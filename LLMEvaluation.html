<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>LLM Evaluation에 대해 끄적이기</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- Custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- webfont -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Careful Writer" />
    <link rel="shortcut icon" href="https://heuristicwave.github.io/assets/built/images/water-wave-48.png" type="image/png" />
    <link rel="canonical" href="https://heuristicwave.github.io/LLMEvaluation" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Heuristic Wave Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="LLM Evaluation에 대해 끄적이기" />
    <meta property="og:description" content="LLMOps, LLM App Development Life Cycle의 한 부분 LLM Evaluation에 대하여… Intro LLM Evaluation 솔루션에 대해 조사를 하다, 도입부에 소개할 만한 좋은 글을 발견했습니다. 📝 What the History of Software Development Tells Us about the Hurdles to Enterprise Adoption of LLMs 소프트웨어 개발 프로세스에 모든 단계가 중요하지만, 궁극적인 목표는 사용자에게" />
    <meta property="og:url" content="https://heuristicwave.github.io/LLMEvaluation" />
    <meta property="og:image" content="https://heuristicwave.github.io/assets/built/images/blog-cover.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2024-03-31T00:00:00+00:00" />
    <meta property="article:modified_time" content="2024-03-31T00:00:00+00:00" />
    <meta property="article:tag" content="Ai" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="LLM Evaluation에 대해 끄적이기" />
    <meta name="twitter:description" content="LLMOps, LLM App Development Life Cycle의 한 부분 LLM Evaluation에 대하여… Intro LLM Evaluation 솔루션에 대해 조사를 하다, 도입부에 소개할 만한 좋은 글을 발견했습니다. 📝 What the History of Software Development Tells Us about the Hurdles to Enterprise Adoption of LLMs 소프트웨어 개발 프로세스에 모든 단계가 중요하지만, 궁극적인 목표는 사용자에게" />
    <meta name="twitter:url" content="https://heuristicwave.github.io/" />
    <meta name="twitter:image" content="https://heuristicwave.github.io/assets/built/images/blog-cover.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Heuristic Wave Blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ai" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Heuristic Wave Blog",
        "logo": "https://heuristicwave.github.io/"
    },
    "url": "https://heuristicwave.github.io/LLMEvaluation",
    "image": {
        "@type": "ImageObject",
        "url": "https://heuristicwave.github.io/assets/built/images/blog-cover.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://heuristicwave.github.io/LLMEvaluation"
    },
    "description": "LLMOps, LLM App Development Life Cycle의 한 부분 LLM Evaluation에 대하여… Intro LLM Evaluation 솔루션에 대해 조사를 하다, 도입부에 소개할 만한 좋은 글을 발견했습니다. 📝 What the History of Software Development Tells Us about the Hurdles to Enterprise Adoption of LLMs 소프트웨어 개발 프로세스에 모든 단계가 중요하지만, 궁극적인 목표는 사용자에게"
}
    </script>
    <script data-ad-client="ca-pub-6093187208665634" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0FTXSPJZFY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0FTXSPJZFY');
    </script>
    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="LLM Evaluation에 대해 끄적이기" href="https://heuristicwave.github.io/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://heuristicwave.github.io/">Heuristic Wave Blog</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-extracurricular" role="menuitem"><a href="/tag/uncategorized/">Uncategorized</a></li>
    <li class="nav-aws" role="menuitem"><a href="/tag/ai/">AI</a></li>
    <li class="nav-aws" role="menuitem"><a href="/tag/aws/">AWS</a></li>
    <li class="nav-backend" role="menuitem"><a href="/tag/backend/">Back-end</a></li>
    <li class="nav-devops" role="menuitem"><a href="/tag/devops/">DevOps</a></li>
    <li class="nav-backend" role="menuitem"><a href="/tag/security/">Security</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-ai tag-genai tag-llm post tag-ai no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="31 March 2024">31 March 2024</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/ai/'>AI</a>,
                            
                        
                            
                               <a href='/tag/genai/'>GENAI</a>,
                            
                        
                            
                               <a href='/tag/llm/'>LLM</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">LLM Evaluation에 대해 끄적이기</h1>
            </header>

            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>LLMOps, LLM App Development Life Cycle의 한 부분 LLM Evaluation에 대하여…</p>

<h1 id="intro">Intro</h1>

<p>LLM Evaluation 솔루션에 대해 조사를 하다, 도입부에 소개할 만한 좋은 글을 발견했습니다.</p>

<p><a href="https://maverickventures.medium.com/what-the-history-of-software-development-tells-us-about-the-hurdles-to-enterprise-adoption-of-llms-c96bc968456d">📝 What the History of Software Development Tells Us about the Hurdles to Enterprise Adoption of LLMs</a></p>

<blockquote>
  <p><em>소프트웨어 개발 프로세스에 모든 단계가 중요하지만, 궁극적인 목표는 사용자에게 안정적으로 가치를 제공하는 것이므로 ‘테스트’, ‘평가’, ‘모니터링’은 항상 역사적으로 큰 시장이었습니다.
자체 설문 조사에서 LLM을 운영에 배포하는 데 있어 가장 큰 장벽은 “모델 품질 평가(evaluating model quality)”를 꼽았습니다.</em></p>
</blockquote>

<p><strong>LLM Evaluate, Test, Monitoring Landscape</strong></p>

<p><em>아래 그림은 위에서 언급한 글에 소개된 LLMOps Landscape로, 잘못된 내용들이 있으므로 참고만 하세요.</em></p>

<p><img src="https://miro.medium.com/v2/resize:fit:4800/format:webp/1*7ot7nNqNWIu7Tw8X8yyGsw.png" width="870" /></p>

<p>이번 포스팅에서는 해당 글에서 소개하는 여러 LLM 평가 스타트업 중, ‘UpTrain’과 ‘Ragas’를 중점으로 이야기를 풀어나가 보겠습니다.</p>

<p><br /></p>

<h2 id="1️⃣-uptrain">1️⃣ <a href="https://uptrain.ai/">UpTrain</a></h2>

<h3 id="주요-특징">주요 특징</h3>

<ul>
  <li><a href="https://www.ycombinator.com/companies/uptrain-ai">Y Combinator</a></li>
  <li><a href="https://github.com/uptrain-ai/uptrain">GitHub(1.9k)</a></li>
  <li>Ground Truth 비교, 사용자 정의 평가 등 9개의 범주 아래, 20개의 평가 메트릭을 제공</li>
  <li>LlamaIndex, Langfuse, ChromaDB 등에 대한 통합 제공</li>
  <li>홈페이지에서 GDPR, ISO 27001 취득한 것으로 보임</li>
</ul>

<h3 id="사용-방법">사용 방법</h3>

<h4 id="llm-모델-선택">LLM 모델 선택</h4>

<p><code class="language-plaintext highlighter-rouge">uptrain</code>을 설치하고 다음과 같이 모델을 선택합니다. 본래 모델 선택 시, <code class="language-plaintext highlighter-rouge">EvalLLM()</code>에 LLM 호출을 위한 KEY를 기재합니다.
Amazon Bedrock 서비스를 사용하는 경우, Settings를 활용해 LLM 주입이 가능합니다. (<a href="https://github.com/uptrain-ai/uptrain/issues/589">참고</a>)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">uptrain</span> <span class="kn">import</span> <span class="n">Settings</span><span class="p">,</span> <span class="n">EvalLLM</span><span class="p">,</span> <span class="n">Evals</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s">"bedrock/anthropic.claude-3-sonnet-20240229-v1:0"</span><span class="p">)</span>
<span class="n">eval_llm</span> <span class="o">=</span> <span class="n">EvalLLM</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="평가-dataset-준비">평가 DataSet 준비</h4>

<p>아쉽게도 UpTrain에서는 평가 DataSet 생성을 보조하는 기능이 아직은 없습니다. 질문(<code class="language-plaintext highlighter-rouge">question</code>), 맥락(<code class="language-plaintext highlighter-rouge">context</code>), 답변(<code class="language-plaintext highlighter-rouge">response</code>)을 다음과 같이 준비합니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">"question"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"Which is the most popular global sport?"</span><span class="p">,</span>
        <span class="s">"Who created the Python language?"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">"context"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">"_comment"</span> <span class="p">:</span> <span class="s">"생략"</span>
    <span class="p">],</span>
    <span class="s">"response"</span><span class="p">:[</span>
        <span class="s">"Football is the most popular sport with around 4 billion followers worldwide"</span><span class="p">,</span>
        <span class="s">"Python language was created by Guido van Rossum."</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}]</span>
</code></pre></div></div>

<h4 id="평가-메트릭-선택">평가 메트릭 선택</h4>

<p>제공되는 <a href="https://docs.uptrain.ai/predefined-evaluations/overview">지표</a>를 참고하여, <code class="language-plaintext highlighter-rouge">checks</code> 변수에 list로 주입합니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">results</span> <span class="o">=</span> <span class="n">eval_llm</span><span class="p">.</span><span class="n">evaluate</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="n">checks</span><span class="o">=</span><span class="p">[</span><span class="n">Evals</span><span class="p">.</span><span class="n">CONTEXT_RELEVANCE</span><span class="p">,</span> <span class="n">Evals</span><span class="p">.</span><span class="n">FACTUAL_ACCURACY</span><span class="p">,</span> <span class="n">Evals</span><span class="p">.</span><span class="n">RESPONSE_COMPLETENESS</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Results
</span><span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
</code></pre></div></div>

<details>
  <summary>결과 보기 👉 Click</summary>

  <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"_comment"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="s2">"생략"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"_comment"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="s2">"생략"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"_comment"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="s2">"생략"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"score_context_relevance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explanation_context_relevance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">Reasoning</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">
    The extracted context contains two separate paragraphs, each addressing one of the two queries. </span><span class="err">\</span><span class="s2">
    The first paragraph discusses the popularity of sports globally, </span><span class="err">\</span><span class="s2">
    mentioning that football is considered the most popular sport with a large following. </span><span class="err">\</span><span class="s2">
    This information can answer the first query 'Which is the most popular global sport?' completely. </span><span class="err">\</span><span class="s2">
    The second paragraph provides details about the creation of the Python programming language by Guido van Rossum, </span><span class="err">\</span><span class="s2">
    which can answer the second query 'Who created the Python language?' completely. </span><span class="err">\</span><span class="s2">
    Therefore, the extracted context can answer both queries in their entirety.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">Choice</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">A</span><span class="se">\"\n</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"score_factual_accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explanation_factual_accuracy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\n</span><span class="s2">    </span><span class="se">\"</span><span class="s2">Result</span><span class="se">\"</span><span class="s2">: [</span><span class="se">\n</span><span class="s2">        {</span><span class="se">\n</span><span class="s2">
    </span><span class="se">\"</span><span class="s2">Fact</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Football is the most popular sport with around 4 billion followers worldwide.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">
    </span><span class="se">\"</span><span class="s2">Reasoning</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">The context directly states that 'Football is undoubtedly the world's most popular sport' </span><span class="err">\</span><span class="s2">
    and mentions that it has 'a followership of more than 4 billion people'. </span><span class="err">\</span><span class="s2">
    This supports the given fact.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">            </span><span class="se">\"</span><span class="s2">Judgement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">yes</span><span class="se">\"\n</span><span class="s2">        },</span><span class="se">\n</span><span class="s2">
    {</span><span class="se">\n</span><span class="s2">            </span><span class="se">\"</span><span class="s2">Fact</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Python language was created by Guido van Rossum.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">
    </span><span class="se">\"</span><span class="s2">Reasoning</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">The context explicitly mentions that 'Python, created by Guido van Rossum in the late 1980s,
    is a high-level general-purpose programming language'. This directly supports the given fact.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\n</span><span class="s2">
    </span><span class="se">\"</span><span class="s2">Judgement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">yes</span><span class="se">\"\n</span><span class="s2">        }</span><span class="se">\n</span><span class="s2">    ]</span><span class="se">\n</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"score_response_completeness"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"explanation_response_completeness"</span><span class="p">:</span><span class="w"> </span><span class="nl">"_comment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"생략"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>  </div>

</details>

<h4 id="대시보드-사용">대시보드 사용</h4>

<p>UpTrain OSS Dashboard도 제공하는데, Docker Compose로 Server Up 하는 스크립트 실행합니다.
이어서 <code class="language-plaintext highlighter-rouge">localhost:3000</code>에서 코드로 평가를 진행할 때와 동일하게 GUI를 눌러 수행하면 평가 결과를 시각화하여 볼 수 있습니다.</p>

<p><img src="/assets/built/images/post/etc/uptrain.png" alt="dashboard" /></p>

<h3 id="pros-and-cons">Pros and Cons</h3>

<p><strong>장점</strong></p>

<ul>
  <li>다양한 상황에서 적용할 수 있는 지표들에 대한 손쉬운 적용</li>
  <li>Evaluations/Prompts 테스트에 대하여 한 번에 여러 가지 테스트가 가능 (배치)</li>
  <li>‘A/B 테스트’, ‘사용자 정의 프롬프트 기반 평가 셋(사용자가 평가 기준을 LLM에게 전달)’ 등의 기능 제공</li>
  <li>Local 환경에서 평가 가능</li>
</ul>

<p><strong>단점</strong></p>

<ul>
  <li>GitHub에서 제공하는 OSS Dashboard가 오퍼링 웹사이트만큼 다양한 기능을 제공하고 있지는 않음</li>
  <li>평가 후, 얻은 <code class="language-plaintext highlighter-rouge">jsonl</code> 파일을 업로드해서 시각화하는 기능은 미제공</li>
</ul>

<h3 id="-생각">🤔 생각</h3>

<p><a href="https://news.ycombinator.com/item?id=35069839">UpTrain 팀의 수익화</a> 계획에서 더 넓은 통합과 Dashboard의 향상된 경험을 제공하는 것으로 보이나,
OSS로 활용한다면 별도의 Dashboard 개발 필요한 것 같습니다. 또한 아직은 통합을 지원하는 범위가 좁지만, 평가 역할 수행하기에는 좋은 도구인 것 같습니다.</p>

<p>LLM Evaluation은 어렵습니다. 어떻게 평가 기준을 설계해야 하는지 모르겠다면, 제공되는 20여 개의 metrics들로 다양한 시각에서 평가하는 방법을 고려할 수 있을 것 같습니다.
그뿐만 아니라 해당 도구를 채택하지 않더라도, 제공하는 metrics들을 참고하면 계획하고 있는 평가 방법들에 대한 좋은 참고 자료가 되는 것 같습니다.
예를 들어, UpTrain은 응답의 품질을 평가하기 위해 대응 여부, 간결성, 관련성, 유효성, 일관성 등 5가지의 요소로 품질을 평가합니다.
UpTrain이 제공하는 metrics의 종류는 평가 Task를 해결하기 위한 방법들이 되므로, 평가 계획 수립에 유용할 것 같습니다.</p>

<p><br /></p>

<h2 id="2️⃣-ragas">2️⃣ <a href="https://docs.ragas.io/en/stable/">Ragas</a></h2>

<h3 id="주요-특징-1">주요 특징</h3>

<ul>
  <li><a href="https://github.com/explodinggradients/ragas">GitHub(4.1k)</a></li>
  <li>RAG 파이프라인 전용 평가 솔루션 : 데이터 셋 생성, RAG 평가, 모니터링 등의 기능 제공</li>
  <li>정확도, 관련성 등 10개의 범주 아래 다양한 메트릭 제공(평가 방법에 대한 수식 제공)</li>
  <li>언어별 다중 프롬프트 생성, 평가를 위한 테스트 데이터 증강 등 부가 기능 제공</li>
  <li>LangChain을 활용한 CSP 모델 및 LlamaIndex, LangSmith 등 다양한 프레임워크에 통합 지원</li>
  <li>Atina, Zeno, Tonic 등 다양한 방법으로 시각화 제공</li>
</ul>

<h3 id="-생각-1">🤔 생각</h3>

<p><a href="https://docs.uptrain.ai/tutorials/analyzing-failure-cases">UpTrain 문서에서 RAG 파이프라인을 분석하는 글</a>을 보고, RAG 파이프라인 전용 평가 도구의 필요성을 고민하다 Ragas가 흥미로워 살펴보게 되었습니다.
UpTrain뿐만 아니라, 다른 Evaluation 솔루션들도 ‘RAG 평가’는 방법 중 하나일 뿐, 왜 RAG에 한정하여 전문적인 도구가 필요할지 고민해 보았습니다.
Ragas는 <strong><a href="https://docs.ragas.io/en/stable/concepts/metrics_driven.html">MDD(지표 중심 개발)</a></strong>라는 용어를 내세우며, LLM 앱을 데이터 기반 의사 결정이 매우 중요하다고 강조합니다.
해당 사실은 Ragas뿐만 아니라, 다른 Evaluation 솔루션들도 입을 모아 Observability의 중요성을 언급합니다.
그러나 다른 솔루션들의 문서와는 달리, Ragas 문서는 <a href="https://docs.ragas.io/en/stable/concepts/metrics/index.html">측정 메트릭</a> 별, 수식과 예시와 함께 제공하니 그들의 주장에 조금 더 마음이 가는 것 같습니다.</p>

<p>Ragas의 테스트 데이터 셋 생성 기능은 Ragas를 채택하지 않더라도 도움이 될 것 같습니다. 더하여 Ragas는 내부적으로 langchain을 활용하므로,
프로덕션급 LLM 앱 구축 플랫폼인 <a href="https://docs.smith.langchain.com/">LangSmith</a>를 보완하여 더 나은 기능을 제공할 것으로 보입니다. (앞으로의 숙제네요 🫠)</p>

<p><br /></p>

<h2 id="outro">Outro</h2>

<p>Evaluation에서도 Data가 매우 중요합니다. 아직 스터디가 더 필요하지만, 그동안 ‘평가 Data 제작’ 부분은 종종 봤지만, ‘평가 Data 활용 방안’은 더 적은 것 같습니다.
평가 <strong>Data의 재사용성</strong>을 높이기 위해 고려할 지점이 있어 보여, 다음과 같이 몇 자 끄적이며 마치도록 하겠습니다.</p>

<ul>
  <li><strong>Training</strong> : sLM 도입 및 파인튜닝 시, 튜닝을 위한 Datasets에 평가 Datasets을 활용할 수 있음</li>
  <li><strong>호환성</strong> : 다양한 평가도구들이 <code class="language-plaintext highlighter-rouge">jsonl</code> 형태로 지원하여, 이기종 간 호환이 자유롭다면 다양한 평가 가능</li>
</ul>

<p>소중한 시간을 내어 읽어주셔서 감사합니다! 잘못된 내용은 지적해주세요! 😃</p>

<hr />

                </div>
            </section>

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/myGopher.png" alt="HeuristicWave" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/HeuristicWave">Jihun Lim</a></h4>
                                
                                    <p><a href="https://feedly.com/i/subscription/feed/https://heuristicwave.github.io/feed.xml">Follow my blog</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/HeuristicWave">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- Email subscribe form at the bottom of the page
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Heuristic Wave Blog</h3>
                    <p>Get the latest posts delivered right via RSS</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="url" name="rss url" value="https://heuristicwave.github.io" readonly />
    </div>
    <!--To Do Rss Web Font <i class="fas fa-rss"></i> -->
    <button class="" type="submit" disabled><span>Copy</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
             -->

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://heuristicwave.github.io/LLMEvaluation';
                            this.page.identifier = '/LLMEvaluation';
                            this.page.title = 'LLM Evaluation에 대해 끄적이기';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://heuristicwave-github-io.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Heuristic Wave Blog &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/ai/">Ai</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Agents">Create a Multi-Tool Agent with Cluade 3 and LangChain</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ReAct">ReAct leverages LLM as a reasoning engine</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/LLMCache">Providing a caching layer for LLM with Langchain in AWS</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/ai/">
                                
                                    See all 5 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Agents">
                <div class="post-card-image" style="background-image: url(/assets/built/images/background/langchain.svg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Agents">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Ai</span>
                            
                        
                            
                               <span class="post-card-tags">Genai</span>
                            
                        
                            
                                <span class="post-card-tags">Llm</span>
                            
                        
                    

                    <h2 class="post-card-title">Create a Multi-Tool Agent with Cluade 3 and LangChain</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/myGopher.png" alt="Jihun Lim" />
                        
                        <span class="post-card-author">
                            <a href="/author/HeuristicWave/">Jihun Lim</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/ReAct">
                <div class="post-card-image" style="background-image: url(/assets/built/images/background/langchain.svg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/ReAct">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Ai</span>
                            
                        
                            
                               <span class="post-card-tags">Genai</span>
                            
                        
                            
                                <span class="post-card-tags">Llm</span>
                            
                        
                    

                    <h2 class="post-card-title">ReAct leverages LLM as a reasoning engine</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/myGopher.png" alt="Jihun Lim" />
                        
                        <span class="post-card-author">
                            <a href="/author/HeuristicWave/">Jihun Lim</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://heuristicwave.github.io/">
            
            <span>Heuristic Wave Blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">LLM Evaluation에 대해 끄적이기</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=LLM+Evaluation%EC%97%90+%EB%8C%80%ED%95%B4+%EB%81%84%EC%A0%81%EC%9D%B4%EA%B8%B0&amp;url=https://heuristicwave.github.ioLLMEvaluation"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://heuristicwave.github.ioLLMEvaluation"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://heuristicwave.github.io/">Heuristic Wave Blog</a> &copy; 2025</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search on Heuristic Wave Blog</h1>
                <p class="subscribe-overlay-description">lunr.js를 이용한 posts 검색</p>
                <span id="searchform" method="post" action="/search/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                <br>
            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-0FTXSPJZFY', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
