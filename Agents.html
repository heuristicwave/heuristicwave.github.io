<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Create a Multi-Tool Agent with Cluade 3 and LangChain</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- Custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- webfont -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Careful Writer" />
    <link rel="shortcut icon" href="https://heuristicwave.github.io/assets/built/images/water-wave-48.png" type="image/png" />
    <link rel="canonical" href="https://heuristicwave.github.io/Agents" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Heuristic Wave Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Create a Multi-Tool Agent with Cluade 3 and LangChain" />
    <meta property="og:description" content="ReAct 2편 - Multi-Tool Agent 만들기 Intro 이번 포스팅은 1편에서 미뤘던 ReAct Agent 생성자(Constructor) create_react_agent와 여러 개의 Task를 수행하는 Multi-Agents를 구현하는 방법에 대해 알아보겠습니다. 1️⃣ 편 복습 ❓ 다음 Cluade 3와의 채팅 화면은 가능한 대화인가요? ✅ 정답 보기 Click 👈 정답은 가능할 수도 아닐 수도 있습니다. 🙄 무슨 말이냐고요? 콘솔" />
    <meta property="og:url" content="https://heuristicwave.github.io/Agents" />
    <meta property="og:image" content="https://heuristicwave.github.io/assets/built/images/background/langchain.svg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2024-04-13T00:00:00+00:00" />
    <meta property="article:modified_time" content="2024-04-13T00:00:00+00:00" />
    <meta property="article:tag" content="Ai" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Create a Multi-Tool Agent with Cluade 3 and LangChain" />
    <meta name="twitter:description" content="ReAct 2편 - Multi-Tool Agent 만들기 Intro 이번 포스팅은 1편에서 미뤘던 ReAct Agent 생성자(Constructor) create_react_agent와 여러 개의 Task를 수행하는 Multi-Agents를 구현하는 방법에 대해 알아보겠습니다. 1️⃣ 편 복습 ❓ 다음 Cluade 3와의 채팅 화면은 가능한 대화인가요? ✅ 정답 보기 Click 👈 정답은 가능할 수도 아닐 수도 있습니다. 🙄 무슨 말이냐고요? 콘솔" />
    <meta name="twitter:url" content="https://heuristicwave.github.io/" />
    <meta name="twitter:image" content="https://heuristicwave.github.io/assets/built/images/background/langchain.svg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Heuristic Wave Blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ai" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Heuristic Wave Blog",
        "logo": "https://heuristicwave.github.io/"
    },
    "url": "https://heuristicwave.github.io/Agents",
    "image": {
        "@type": "ImageObject",
        "url": "https://heuristicwave.github.io/assets/built/images/background/langchain.svg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://heuristicwave.github.io/Agents"
    },
    "description": "ReAct 2편 - Multi-Tool Agent 만들기 Intro 이번 포스팅은 1편에서 미뤘던 ReAct Agent 생성자(Constructor) create_react_agent와 여러 개의 Task를 수행하는 Multi-Agents를 구현하는 방법에 대해 알아보겠습니다. 1️⃣ 편 복습 ❓ 다음 Cluade 3와의 채팅 화면은 가능한 대화인가요? ✅ 정답 보기 Click 👈 정답은 가능할 수도 아닐 수도 있습니다. 🙄 무슨 말이냐고요? 콘솔"
}
    </script>
    <script data-ad-client="ca-pub-6093187208665634" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0FTXSPJZFY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-0FTXSPJZFY');
    </script>
    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Create a Multi-Tool Agent with Cluade 3 and LangChain" href="https://heuristicwave.github.io/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://heuristicwave.github.io/">Heuristic Wave Blog</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-extracurricular" role="menuitem"><a href="/tag/uncategorized/">Uncategorized</a></li>
    <li class="nav-aws" role="menuitem"><a href="/tag/ai/">AI</a></li>
    <li class="nav-aws" role="menuitem"><a href="/tag/aws/">AWS</a></li>
    <li class="nav-backend" role="menuitem"><a href="/tag/backend/">Back-end</a></li>
    <li class="nav-devops" role="menuitem"><a href="/tag/devops/">DevOps</a></li>
    <li class="nav-backend" role="menuitem"><a href="/tag/security/">Security</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-ai tag-genai tag-llm post tag-ai ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="13 April 2024">13 April 2024</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/ai/'>AI</a>,
                            
                        
                            
                               <a href='/tag/genai/'>GENAI</a>,
                            
                        
                            
                               <a href='/tag/llm/'>LLM</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Create a Multi-Tool Agent with Cluade 3 and LangChain</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/background/langchain.svg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>ReAct 2편 - Multi-Tool Agent 만들기</p>

<h1 id="intro">Intro</h1>

<p>이번 포스팅은 <a href="https://heuristicwave.github.io/ReAct">1편</a>에서 미뤘던 ReAct Agent 생성자(Constructor) <code class="language-plaintext highlighter-rouge">create_react_agent</code>와 여러 개의 Task를 수행하는 <strong>Multi-Agents</strong>를 구현하는 방법에 대해 알아보겠습니다.</p>

<p><br /></p>

<h2 id="1️⃣-편-복습">1️⃣ 편 복습</h2>

<p><strong>❓ 다음 Cluade 3와의 채팅 화면은 가능한 대화인가요?</strong></p>

<p><img src="../../assets/built/images/post/ai/ReAct/datetime.png" alt="claude3" /></p>

<details>
  <summary>✅ 정답 보기 Click 👈</summary>

  <p>정답은 가능할 수도 아닐 수도 있습니다. 🙄 무슨 말이냐고요?</p>

  <p>콘솔 화면에서는 불가능한 화면이지만, Cluade API를 호출한다면, 가능한 대화입니다.</p>

  <p>위 사진에서 보이는, 현 시간을 인식하는 기능과 <code class="language-plaintext highlighter-rouge">Cluade 3</code>에게 존재하지 않습니다. 또한, 수학 계산 능력도 부족합니다. 그러나, <a href="https://heuristicwave.github.io/ReAct">지난 1편</a>에서 이야기한 Tools을 활용한 ReAct 기법을 적용하면 가능합니다.</p>

</details>

<h3 id="initialize_agent-built-in-tool--custom-tool"><code class="language-plaintext highlighter-rouge">initialize_agent</code>, Built-in Tool &amp; Custom Tool</h3>

<p>위 채팅 화면과 같은 결과를 얻으려면 다음과 같이, 2개의 Tool을 llm에 주입하면 구현 가능합니다.</p>

<p><em>기존 Built-in Tool <code class="language-plaintext highlighter-rouge">llm-math</code>에 Custom Tool <code class="language-plaintext highlighter-rouge">time</code> 추가</em></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">load_tools</span><span class="p">,</span> <span class="n">tool</span><span class="p">,</span> <span class="n">initialize_agent</span><span class="p">,</span> <span class="n">AgentType</span>
<span class="kn">from</span> <span class="nn">langchain_community.chat_models</span> <span class="kn">import</span> <span class="n">BedrockChat</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="n">chat</span> <span class="o">=</span> <span class="n">BedrockChat</span><span class="p">(</span>
    <span class="n">model_id</span><span class="o">=</span><span class="s">"anthropic.claude-3-sonnet-20240229-v1:0"</span><span class="p">,</span>
    <span class="n">model_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s">"max_tokens"</span><span class="p">:</span> <span class="mi">2048</span><span class="p">,</span> <span class="s">"temperature"</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">},</span>
    <span class="n">region_name</span><span class="o">=</span><span class="s">"us-west-2"</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">tools</span> <span class="o">=</span> <span class="n">load_tools</span><span class="p">([</span><span class="s">"llm-math"</span><span class="p">],</span> <span class="n">llm</span><span class="o">=</span><span class="n">chat</span><span class="p">)</span>

<span class="o">@</span><span class="n">tool</span>
<span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="s">"""현재 시간과 관련된 질문에 사용합니다. 이 함수는 항상 오늘의 시간을 반환합니다."""</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">())</span>

<span class="n">agent</span><span class="o">=</span> <span class="n">initialize_agent</span><span class="p">(</span>
    <span class="n">tools</span> <span class="o">+</span> <span class="p">[</span><span class="n">time</span><span class="p">],</span>
    <span class="n">llm</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span>
    <span class="n">agent</span><span class="o">=</span><span class="n">AgentType</span><span class="p">.</span><span class="n">CHAT_ZERO_SHOT_REACT_DESCRIPTION</span><span class="p">,</span>
    <span class="n">handle_parsing_errors</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">verbose</span> <span class="o">=</span> <span class="bp">True</span>
<span class="p">)</span>

<span class="n">agent</span><span class="p">(</span><span class="s">"지금은 몇 일 몇 시이고, 19시 발표 예정인 저에게 발표 자료를 만들기까지 남은 시간은 몇 시간 인가요?"</span><span class="p">)</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="2️⃣-create_xxx_agent">2️⃣ <code class="language-plaintext highlighter-rouge">create_XXX_agent</code></h2>

<p>이번에는 <code class="language-plaintext highlighter-rouge">initialize_agent</code> 생성자 대신, 새로운 생성자인 <code class="language-plaintext highlighter-rouge">create_react_agent</code> 생성자를 사용해 Agent를 만들어 보겠습니다. url의 정보를 읽어들여 질문에 대하여 <code class="language-plaintext highlighter-rouge">create_react_agent</code>를 활용해 추론하는 간단한 에이전트입니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">url</span> <span class="o">=</span> <span class="p">[</span> <span class="s">"https://aws.amazon.com/ko/blogs/korea/introducing-aws-ambassador-program/"</span> <span class="p">]</span>

<span class="o">@</span><span class="n">tool</span>
<span class="k">def</span> <span class="nf">amb</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="s">"""AWS Ambassador와 관련된 질문에 사용합니다. 이 함수는 한국의 Ambassador 정보를 반환합니다."""</span>
    <span class="n">loader</span> <span class="o">=</span> <span class="n">SeleniumURLLoader</span><span class="p">(</span><span class="n">urls</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
    <span class="n">blog</span> <span class="o">=</span> <span class="n">loader</span><span class="p">.</span><span class="n">load</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">blog</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">page_content</span>

<span class="n">prompt</span> <span class="o">=</span> <span class="n">hub</span><span class="p">.</span><span class="n">pull</span><span class="p">(</span><span class="s">"hwchase17/react"</span><span class="p">)</span>

<span class="n">agent</span><span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">amb</span><span class="p">],</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">)</span>

<span class="n">agent_executor</span> <span class="o">=</span> <span class="n">AgentExecutor</span><span class="p">(</span><span class="n">agent</span><span class="o">=</span><span class="n">agent</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">amb</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">agent_executor</span><span class="p">.</span><span class="n">invoke</span><span class="p">({</span><span class="s">"input"</span><span class="p">:</span> <span class="s">"한국의 AWS Ambassador는 몇 명인가요?"</span><span class="p">})</span>
</code></pre></div></div>

<h3 id="-추론-중-발생하는-이슈">🐞 추론 중 발생하는 이슈</h3>

<p><img src="../../assets/built/images/post/ai/ReAct/error01.png" alt="claude3" /></p>

<p><code class="language-plaintext highlighter-rouge">create_react_agent</code>를 사용했을 때, 답은 잘 생성하지만 제대로 된 Custom Tool을 작성했음에도 불구하고,
<em>‘xxx is not a valid tool,</em> 과 같은 메시지와 함께 추론에 이슈가 발생합니다. 물론, 결과적으로 답변을 잘 생성하지만, 다양한 Task를 부여한다면 원하는 답변을 얻지 못할 수도 있습니다. 그래서 Cluade 모델에게 익숙한 <code class="language-plaintext highlighter-rouge">create_xml_agent</code> 생성자를 사용해 에이전트를 생성해야 합니다. 🦜️🔗 LangChain <a href="https://python.langchain.com/docs/modules/agents/agent_types/xml_agent/">XMLAgent 문서</a>에 <em>‘Claude와 같은 일부 언어 모델은 특히 XML 추론/작성 능력이 뛰어납니다.’</em> 라는 내용이 기재되어 있습니다.</p>

<blockquote>
  <p>💡 <a href="https://docs.anthropic.com/claude/docs/use-xml-tags">Claude 모델은 XML tags에 익숙합니다.</a> <br /> Claude is particularly familiar with prompts that have XML tags as Claude was exposed to such prompts during training. By wrapping key parts of your prompt (such as instructions, examples, or input data) in XML tags, you can help Claude better understand the context and generate more accurate outputs.</p>
</blockquote>

<h3 id="create_react_agent-vs-create_xml_agent"><code class="language-plaintext highlighter-rouge">create_react_agent</code> vs <code class="language-plaintext highlighter-rouge">create_xml_agent</code></h3>

<p>동일 모델로 생성한 결과를 확인해 보면, xml 생성자를 사용하면 답변에 조건을 포함해 더 나은 답변을 제공합니다. <em>(현재 11명이지만, url 시점으로 한정하여 올바른 답변 생성)</em></p>

<p><code class="language-plaintext highlighter-rouge">create_react_agent</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"input"</span><span class="p">:</span><span class="w"> </span><span class="s2">"한국의 AWS Ambassador는 몇 명인가요?"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"한국의 AWS Ambassador는 현재 10명입니다."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">create_xml_agent</code></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"input"</span><span class="p">:</span><span class="w"> </span><span class="s2">"한국의 AWS Ambassador는 몇 명인가요?"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023년 5월 기준으로 한국에는 10명의 AWS Ambassador가 활동하고 있습니다."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><br /></p>

<h2 id="3️⃣-multi-tool-agent️-tool--custom-tool">3️⃣ Multi-Tool Agent(🦜️🔗 Tool &amp; Custom Tool)</h2>

<p>이번에는 Built-in Tool이 아닌 <code class="language-plaintext highlighter-rouge">langchain_community</code>에서 제공하는 도구와 조금 더 복잡한 작업을 지원하는 Custom Tool을 사용하여 Multi-Tool Agent를 만들어 보겠습니다. <em>(PPT를 만들기 위해 Markdown을 PPT로 만드는 <code class="language-plaintext highlighter-rouge">get_marp</code>라는 Custom Tool을 사전에 정의해 두었습니다.)</em></p>

<h3 id="-genai로-ppt-만들기">🧭 GenAI로 PPT 만들기</h3>

<blockquote>
  <p>‘AWS에서 발표하려 합니다. AWS에 대한 최근 정보를 duckduckgo에 검색 후, <code class="language-plaintext highlighter-rouge">get_marp</code> tool을 사용해 marp 형식으로 발표 자료를 만들어 주세요.’</p>
</blockquote>

<p>위 요구사항을 만족하기 위해서는 다음 2가지의 Task를 Tool이 지원해야 합니다.</p>

<ol>
  <li>최신 자료 검색 : <code class="language-plaintext highlighter-rouge">langchain_community</code>의 DuckDuckGO Tool 활용</li>
  <li>PPT 제작 : MARP로 PPT를 생성하는 Custom Tool 활용</li>
</ol>

<p><code class="language-plaintext highlighter-rouge">create_xml_agent</code>를 활용하여 Multi-Tool Agent를 구현하는 방법은 <code class="language-plaintext highlighter-rouge">initialize_agent</code>를 사용할 때와 크게 다르지 않습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">duckduckgo_tool</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">get_marp</span><span class="p">]</span>
<span class="n">my_agent</span><span class="o">=</span> <span class="n">create_xml_agent</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">my_tools</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">)</span>
<span class="n">agent_executor</span> <span class="o">=</span> <span class="n">AgentExecutor</span><span class="p">(</span><span class="n">agent</span><span class="o">=</span><span class="n">my_agent</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">my_tools</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>👿 실제 Agent와 Tool, Toolkits을 통합하다 보면, Type Casting 문제를 비롯하여, 더 나은 추론 결과를 생성하기 위해 Prompt Engineering에 굉장히 많은 시간이 소요됩니다</p>
</blockquote>

<h3 id="️-검증">✔️ 검증</h3>

<p>아래 추론 과정을 살펴보면, <em>AWS 최근 정보라는 Task</em>를 수행하기 위해 Tool로 DuckDuckGo Search를 선택하고 적절한 키워드로 검색합니다. 이어서 <em>발표 자료 만들기 Task</em>를 수행하기 위해 <code class="language-plaintext highlighter-rouge">get_marp</code> Tool을 호출해 의도한 대로 작업을 수행하는 모습을 확인할 수 있었습니다.</p>

<p><img src="../../assets/built/images/post/ai/ReAct/inference.png" alt="inference" /></p>

<details>
  <summary>✅ 검색 결과 비교 Click 👈</summary>

  <p>실제 duckduckgo에 ‘AWS latest news’로 검색한 화면과 PPT를 만들기 위해 MARP 형식으로 작성한 내용이 동일합니다.</p>

  <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh"># AWS 최신 뉴스</span>

<span class="gu">## AWS Deadline Cloud 발표 (2024년 4월 2일)</span>
<span class="p">
-</span> 완전 관리형 렌더링 서비스
<span class="p">-</span> 렌더링 파이프라인 효율성 향상
<span class="p">-</span> 더 많은 작업 처리 가능

<span class="gu">## NVIDIA와 AWS 통합 강화</span>
<span class="p">
-</span> 고객 코드 및 데이터 보안 강화
<span class="p">-</span> 독립적으로 NCC 그룹에 의해 검증됨

<span class="gu">## re:Invent 2023 주요 발표</span>
<span class="p">
-</span> 생성 AI가 주요 관심사
<span class="p">-</span> 실제 비즈니스 이득을 위한 혁신
<span class="p">-</span> 보안, 선택, 성능 향상
<span class="p">-</span> 데이터 정렬 및 거버넌스 지원
</code></pre></div>  </div>

  <p><img src="../../assets/built/images/post/ai/ReAct/duckduckgo.png" alt="duckduckgo" /></p>

</details>

<p><br /></p>

<h2 id="outro">Outro</h2>

<p>1편을 작성하고 2편이 나오기까지 2달이 걸렸습니다. 그래도 다짐을 글로 적어두니, 돌고 돌아 작성하게 되는 것 같습니다. 매번 글쓰기는 고통스럽지만, 작성하고 나면 뿌듯하기에 3편은 LangGraph와 Routing에 대한 내용을 약속하며 이번 포스팅을 마무리 짓겠습니다.</p>

<p>소중한 시간을 내어 읽어주셔서 감사합니다! 잘못된 내용은 지적해주세요! 😃</p>

<hr />

<p><span class="table-of-contents-list">🦜️🔗 LangChain</span></p>
<ul class="table-of-contents-list">
  <li><a href="./GenAI-1">ReAct</a></li>
  <li><a href="./GenAI-1">Multi Tool Agents</a></li>
</ul>


                </div>
            </section>

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/myGopher.png" alt="HeuristicWave" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/HeuristicWave">Jihun Lim</a></h4>
                                
                                    <p><a href="https://feedly.com/i/subscription/feed/https://heuristicwave.github.io/feed.xml">Follow my blog</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/HeuristicWave">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- Email subscribe form at the bottom of the page
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Heuristic Wave Blog</h3>
                    <p>Get the latest posts delivered right via RSS</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="url" name="rss url" value="https://heuristicwave.github.io" readonly />
    </div>
    <!--To Do Rss Web Font <i class="fas fa-rss"></i> -->
    <button class="" type="submit" disabled><span>Copy</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
             -->

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://heuristicwave.github.io/Agents';
                            this.page.identifier = '/Agents';
                            this.page.title = 'Create a Multi-Tool Agent with Cluade 3 and LangChain';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://heuristicwave-github-io.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Heuristic Wave Blog &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/ai/">Ai</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/LLMEvaluation">LLM Evaluation에 대해 끄적이기</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ReAct">ReAct leverages LLM as a reasoning engine</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/LLMCache">Providing a caching layer for LLM with Langchain in AWS</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/ai/">
                                
                                    See all 5 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/LLMEvaluation">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Ai</span>
                            
                        
                            
                               <span class="post-card-tags">Genai</span>
                            
                        
                            
                                <span class="post-card-tags">Llm</span>
                            
                        
                    

                    <h2 class="post-card-title">LLM Evaluation에 대해 끄적이기</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/myGopher.png" alt="Jihun Lim" />
                        
                        <span class="post-card-author">
                            <a href="/author/HeuristicWave/">Jihun Lim</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://heuristicwave.github.io/">
            
            <span>Heuristic Wave Blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Create a Multi-Tool Agent with Cluade 3 and LangChain</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Create+a+Multi-Tool+Agent+with+Cluade+3+and+LangChain&amp;url=https://heuristicwave.github.ioAgents"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://heuristicwave.github.ioAgents"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://heuristicwave.github.io/">Heuristic Wave Blog</a> &copy; 2024</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search on Heuristic Wave Blog</h1>
                <p class="subscribe-overlay-description">lunr.js를 이용한 posts 검색</p>
                <span id="searchform" method="post" action="/search/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                <br>
            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-0FTXSPJZFY', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
