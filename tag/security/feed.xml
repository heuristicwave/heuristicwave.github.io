<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.3">Jekyll</generator>
  <link href="https://heuristicwave.github.io/tag/security/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://heuristicwave.github.io/" rel="alternate" type="text/html" />
  <updated>2023-06-08T09:09:08+00:00</updated>
  <id>https://heuristicwave.github.io/tag/security/feed.xml</id>

  
  
  

  
    <title type="html">Heuristic Wave Blog | </title>
  

  
    <subtitle>Careful Writer</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">SCP ì•Œì•„ë³´ê¸°</title>
      <link href="https://heuristicwave.github.io/SCP" rel="alternate" type="text/html" title="SCP ì•Œì•„ë³´ê¸°" />
      <published>2023-05-07T00:00:00+00:00</published>
      <updated>2023-05-07T00:00:00+00:00</updated>
      <id>https://heuristicwave.github.io/SCP</id>
      <content type="html" xml:base="https://heuristicwave.github.io/SCP">&lt;p&gt;AWS Service control policiesë¡œ í•˜ìœ„ ê³„ì •ì„ ì œì–´í•˜ê¸° ìœ„í•œ ê³ ë ¤ ì‚¬í•­&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;

&lt;p&gt;AWS í™˜ê²½ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë‹¤ ë³´ë©´, ì„œë¹„ìŠ¤ í™•ì¥, ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ë“± ì—¬ëŸ¬ ì´ìœ ë¡œ ë‹¤ìˆ˜ì˜ AWS ê³„ì •ì„ ìš´ìš©í•˜ê²Œ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì´ë•Œ, ë‹¤ìˆ˜ì˜ ê³„ì •ì„ í•˜ë‚˜ì˜ ì¡°ì§ìœ¼ë¡œ ê²°í•©í•´ ì¤‘ì•™ì—ì„œ ê³„ì •ì„ ê´€ë¦¬í•˜ëŠ” &lt;a href=&quot;https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html&quot;&gt;AWS Organizations&lt;/a&gt; ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Organizationsì˜ ì •ì±… ê´€ë¦¬ ë°©ë²• ì¤‘ í•˜ë‚˜ì¸ AWS Service control policies(SCPs, ì´í•˜ SCP)ì— ëŒ€í•˜ì—¬ ê³µì‹ ë¬¸ì„œì˜ ë‚´ìš©ê³¼ ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì´ì•¼ê¸°í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ï¸-background-knowledge&quot;&gt;ğŸï¸ Background knowledge&lt;/h2&gt;

&lt;p&gt;SCPë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ê³µì‹ ë¬¸ì„œ(&lt;a href=&quot;https://docs.aws.amazon.com/organizations/latest/userguide/orgs_getting-started_concepts.html&quot;&gt;AWS Organizations terminology and concepts&lt;/a&gt;)ì— ì†Œê°œëœ ê°œë…ì„ ì§šê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Organizational : ê³„ì •ì„ í†µí•©í•˜ê¸° ìœ„í•´ ìƒì„±í•˜ëŠ” ì—”í„°í‹°(entity)&lt;/li&gt;
  &lt;li&gt;Organizational unit (OU) : ë£¨íŠ¸ ë‚´ ê³„ì •ì— ëŒ€í•œ ì»¨í…Œì´ë„ˆ. íŠ¸ë¦¬ì™€ ìœ ì‚¬í•œ ê³„ì¸µ êµ¬ì¡°ë¥¼ ê°€ì§€ë©°, OUì— ì •ì±…ì„ ë¶€ì—¬í•˜ë©´ í•˜ìœ„ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©&lt;/li&gt;
  &lt;li&gt;Management account : organizationì„ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•˜ë©°, ì¡°ì§ì˜ ëª¨ë˜ ê³„ì •ì— ì„œë¹„ìŠ¤ ê¸°ëŠ¥ì„ ì œê³µ&lt;/li&gt;
  &lt;li&gt;Member accounts : Managementë¥¼ ì œì™¸í•œ ì¡°ì§ì˜ ë‚˜ë¨¸ì§€ ê³„ì •, í•˜ë‚˜ì˜ organizationì— ì†í•¨&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê¸°ë³¸ì ì¸ ê°œë…ì„ ì´í•´í•˜ê³  ë‚˜ì„œ, ì•„ë˜ ê·¸ë¦¼ì„ í™•ì¸í•˜, ëª¨ë“  ê°œë…(&lt;em&gt;Management ê³„ì •ì—ì„œ ì •ì±…ì„ ë§Œë“¤ê³ , ì •ì±…ì€ OU í˜¹ì€ Member accountsì— ì ìš©&lt;/em&gt;)ì´ ìš”ì•½ë˜ì–´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://docs.aws.amazon.com/images/organizations/latest/userguide/images/AccountOuDiagram.png&quot; alt=&quot;OU Diagram&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;-scp&quot;&gt;ğŸ“‘ &lt;a href=&quot;https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html&quot;&gt;SCP&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;SCPë¥¼ ë‹¤ë£¨ê¸° ì „, ì•Œì•„ì•¼ í•  ì£¼ìš” íŠ¹ì§•&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;SCPëŠ” ì¡°ì§ì˜ ëª¨ë“  ê³„ì •ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ê¶Œí•œì„ ì¤‘ì•™ì—ì„œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;management account&lt;/strong&gt; ê³„ì •ì„ ì œì™¸í•˜ê³ , í•˜ìœ„ &lt;a href=&quot;https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html#scp-effects-on-permissions&quot;&gt;Root ê³„ì •ì„ í¬í•¨í•œ ëª¨ë“  IAM ì‚¬ìš©ì ë° ì—­í• &lt;/a&gt;ì— ëŒ€í•˜ì—¬ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;SCPê°€ ëª¨ë“  ì„œë¹„ìŠ¤ì™€ ì‘ì—…ì„ í—ˆìš©í•˜ë”ë¼ë„, IAM ê¶Œí•œ ì •ì±…ì„ ë¶€ì—¬ë°›ì•„ì•¼ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;scp-ì‚¬ìš©-ì „ëµ&quot;&gt;&lt;a href=&quot;https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps_strategies.html&quot;&gt;SCP ì‚¬ìš© ì „ëµ&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;SCP ë‹¤ìŒ 2ê°€ì§€ ì „ëµì„ í†µí•´ ì‘ë™í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Deny list : ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  actionsì— ëŒ€í•˜ì—¬ &lt;strong&gt;í—ˆìš©&lt;/strong&gt;, íŠ¹ì • ì„œë¹„ìŠ¤ ë° actionsì„ &lt;strong&gt;ê¸ˆì§€&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Allow list : ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  actionsì— ëŒ€í•˜ì—¬ &lt;strong&gt;ê¸ˆì§€&lt;/strong&gt;, íŠ¹ì • ì„œë¹„ìŠ¤ ë° actonsì„ &lt;strong&gt;í—ˆìš©&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Organizationsì˜ ê¸°ë³¸ êµ¬ì„±ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FullAWSAccess&lt;/code&gt;ë¼ëŠ” ê´€ë¦¬í˜• SCPê°€ ì—°ê²°ë˜ì–´ &lt;strong&gt;Deny list&lt;/strong&gt; ë°©ì‹ì„ ì±„íƒí•˜ê³  ìˆìœ¼ë¯€ë¡œ, ìœ„ ì‚¬í•­ì„ ì¸ì‹í•˜ì—¬ SCP ì •ì±…ì„ ìˆ˜ë¦½í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;-lab-note&quot;&gt;â€ğŸ‘©ğŸ»â€ğŸ”¬ Lab Note&lt;/h2&gt;

&lt;p&gt;ap-northeast-1ì—ì„œë§Œ ec2 ìƒì„±ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” SCPë¥¼ ì‘ì„±í•œë‹¤ë©´ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AWS Organizations&lt;/code&gt; &amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Policies&lt;/code&gt; &amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Service control policies&lt;/code&gt; ìˆœìœ¼ë¡œ ì ‘ì†í•˜ì—¬, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Create policy&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;ìƒì„±ëœ ì •ì±… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Targets&lt;/code&gt; &amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Attach&lt;/code&gt; ìˆœìœ¼ë¡œ ì–´ë–¤ OUì™€ ê³„ì •ì— ë¶™ì¼ ê²ƒì¸ì§€ ì •í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;ì •ì±…-ì˜ˆì‹œ&quot;&gt;ì •ì±… ì˜ˆì‹œ&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Resouce ì œì–´&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DenyEC2inOtherRegions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Deny&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ec2:RunInstances&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:ec2:ap-northeast-1:*:instance/*&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Condition ì œì–´&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DenyEC2inOtherRegions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Deny&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ec2:RunInstances&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;Condition&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;StringNotEquals&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;aws:RequestedRegion&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ap-northeast-1&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h3&gt;

&lt;h4 id=&quot;allow-errors&quot;&gt;Allow Errors&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Allow&lt;/code&gt; EffectëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Deny&lt;/code&gt;ì™€ ë‹¬ë¦¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Resource&lt;/code&gt;ë¥¼ íŠ¹ì •í•´ì„œ ì •ì±…ì„ ìƒì„±í•  ê²½ìš°, ì•„ë˜ì™€ ê°™ì€ Errorsë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/aws/scp_allow.png&quot; alt=&quot;spc_allow&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Allow&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Resource&lt;/code&gt;ë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt;ë¡œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ &lt;strong&gt;Deny list&lt;/strong&gt;(ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  actions í—ˆìš©) ì•„ë˜ì—ì„œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Resource&lt;/code&gt;ì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StringNotEquals&lt;/code&gt;ì„ ì ì ˆíˆ ì¡°í•©í•˜ì—¬ í—ˆìš©í•˜ëŠ” ì •ì±…ì„ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;failed-to-attach-the-policy-policy-to-x-target&quot;&gt;Failed to attach the policy â€˜{policy}â€™ to X target&lt;/h4&gt;

&lt;p&gt;policy ì ìš© ë²”ìœ„ì— ëŒ€í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš°&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/aws/scp_attach.png&quot; alt=&quot;spc_attach&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Targets&lt;/code&gt;ì„ í™•ì¸í•˜ì—¬ ë¬¸ì œê°€ ë˜ëŠ” íƒ€ê¹ƒì„ í•˜ë‚˜í•˜ë‚˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Detach&lt;/code&gt; í•´ì•¼ í•©ë‹ˆë‹¤. (ì •ì±… ì‚­ì œì˜ ê²½ìš°ë„ ë™ì¼í•©ë‹ˆë‹¤.)&lt;/p&gt;

&lt;h3 id=&quot;notice&quot;&gt;Notice&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;ì •ì±… ìƒì„± ì‹œ, &lt;strong&gt;Syntax ê²€ì‚¬ë¥¼ í†µê³¼í•˜ë”ë¼ë„&lt;/strong&gt; ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ &lt;strong&gt;ê²€ì¦ì€ í•„ìˆ˜&lt;/strong&gt;ì…ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;ì •ì±…ì´ ë³µì¡í•´ì§€ë©´, &lt;strong&gt;ë‹¤ë¥¸ SCP ì •ì±…ê³¼ ì¤‘ë³µ&lt;/strong&gt;ë˜ì–´ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ &lt;strong&gt;ì˜í–¥ë„ ì²´í¬ë„ í•„ìˆ˜&lt;/strong&gt;ì…ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;outro&quot;&gt;Outro&lt;/h2&gt;

&lt;p&gt;í•´ë‹¹ í¬ìŠ¤íŒ…ì˜ &lt;strong&gt;Lab Note&lt;/strong&gt;ëŠ” SCP ì‚¬ìš©ì— ìˆì–´, &lt;strong&gt;ëª¨ë“  Side effect&lt;/strong&gt;ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. SCPë¥¼ ìš´ì˜í™˜ê²½ì—ì„œ í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶©ë¶„í•œ ê²€í† ì™€ í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.
ì œê°€ AWS IAMì„ ë°°ìš°ë˜ ë‹¹ì‹œ, &lt;em&gt;â€œIAMì€ ì™„ì„±í•˜ê³  ëì´ ì•„ë‹Œ ìš´ì˜ê³¼ í•¨ê»˜ ëŠì„ì—†ì´ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ê´€ë¦¬ ìì‚°â€&lt;/em&gt;ì´ë¼ëŠ” ë§ì„ ë“¤ì—ˆìŠµë‹ˆë‹¤. SCP ì—­ì‹œ ìš´ì˜ê³¼ í•¨ê»˜ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” &lt;strong&gt;ê´€ë¦¬ ìì‚°&lt;/strong&gt;ì´ë¼ëŠ” ì ì„ ì–¸ê¸‰í•˜ë©° ê¸€ì„ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¶”ê°€ì ìœ¼ë¡œ ì´ë²ˆ í¬ìŠ¤íŒ… ì´í›„, Organizations SCP ëª¨ë²” ì‚¬ë¡€ì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œê³  ì‹¶ìœ¼ì‹œë©´ ë‹¤ìŒ ê²Œì‹œë¬¼ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/ko/blogs/industries/best-practices-for-aws-organizations-service-control-policies-in-a-multi-account-environment/&quot;&gt;ğŸ‘‰ Best Practices for AWS Organizations Service Control Policies in a Multi-Account Environment&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ì†Œì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì˜ëª»ëœ ë‚´ìš©ì€ ì§€ì í•´ ì£¼ì„¸ìš”! ğŸ˜ƒ&lt;/p&gt;

&lt;hr /&gt;</content>

      
      
      
      
      

      <author>
          <name>Jihun Lim</name>
        
        
      </author>

      

      
        <category term="aws" />
      
        <category term="security" />
      

      
        <summary type="html">AWS Service control policiesë¡œ í•˜ìœ„ ê³„ì •ì„ ì œì–´í•˜ê¸° ìœ„í•œ ê³ ë ¤ ì‚¬í•­</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">The Journey to Know OIDC</title>
      <link href="https://heuristicwave.github.io/OIDC" rel="alternate" type="text/html" title="The Journey to Know OIDC" />
      <published>2022-09-14T00:00:00+00:00</published>
      <updated>2022-09-14T00:00:00+00:00</updated>
      <id>https://heuristicwave.github.io/OIDC</id>
      <content type="html" xml:base="https://heuristicwave.github.io/OIDC">&lt;p&gt;Journey to OIDC through authentication, authorization, SAML, and OAuth.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;

&lt;p&gt;ìš”ì¦˜ ì œ ì¼ìƒì—ì„œ, OIDC(OpenID Connect)ì— ëŒ€í•´ ë§ì€ ì´ì•¼ê¸°ê°€ ì˜¤ê³  ê°”ìŠµë‹ˆë‹¤. ê·¸ë™ì•ˆ ë™ì‘ ì›ë¦¬ë„ ì œëŒ€ë¡œ ì•Œì§€ ëª»í•œ ì±„ ì‚¬ìš©í•˜ê³  ìˆë˜ ì œ ëª¨ìŠµì„ ë°˜ì„±í•˜ë©°,
OIDCë¥¼ ì•Œì•„ê°€ê¸° ìœ„í•´ ì¡°ì‚¬í•œ ë‚´ìš©ë“¤ì„ ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;-authentication--authorization&quot;&gt;ğŸ¥¾ Authentication &amp;amp; Authorization&lt;/h2&gt;

&lt;p&gt;OIDCë¥¼ í–¥í•œ ì—¬ì •ì˜ ì²«ê±¸ìŒì€ ì¸ì¦ê³¼ ì¸ê°€ì…ë‹ˆë‹¤. êµ­ì–´ë¡œë„ ë¹„ìŠ·í•œ ë‘ ë‹¨ì–´ëŠ” ì˜ì–´ë¡œë„ ë¹„ìŠ·í•˜ë©° ë‹¤ìŒê³¼ ê°™ì´ ì¤„ì—¬ì„œ í‘œí˜„í•˜ê¸°ë„ í•©ë‹ˆë‹¤.
AuthN(ì¸ì¦) &amp;amp; AuthZ(ì¸ê°€, ê¶Œí•œ ë¶€ì—¬)&lt;/p&gt;

&lt;p&gt;ì¸ì¦ê³¼ ì¸ê°€ì— ê´€í•œ ì„¤ëª…ì€ ì˜¨ë¼ì¸ì— êµ‰ì¥íˆ ë§ì§€ë§Œ, ì €ëŠ” ê·¸ì¤‘ì—ì„œë„ &lt;a href=&quot;https://auth0.com/docs/get-started/identity-fundamentals/authentication-and-authorization#authentication-vs-authorization&quot;&gt;&lt;strong&gt;Auth0(ì˜¤ìŠ¤ì œë¡œ)&lt;/strong&gt; ì‚¬ì˜ ë¬¸ì„œì˜ ë¹„êµí‘œ&lt;/a&gt;ë¥¼ ì¸ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Authentication&lt;/th&gt;
      &lt;th&gt;Authorization&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ì‚¬ìš©ìê°€ ìì‹ ì´ ì£¼ì¥í•˜ëŠ” ì‚¬ëŒì´ ë§ëŠ”ì§€ ê²°ì •í•©ë‹ˆë‹¤.&lt;/td&gt;
      &lt;td&gt;ì‚¬ìš©ìê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ê²°ì •í•©ë‹ˆë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì‚¬ìš©ìì˜ ìê²© ì¦ëª…ì´ ìœ íš¨í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/td&gt;
      &lt;td&gt;ì •ì±…ê³¼ ë£°ì„ í†µí•´ ì ‘ê·¼ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;í†µìƒ ì¸ê°€ ì „ ë‹¨ê³„ì— ì§„í–‰í•©ë‹ˆë‹¤.&lt;/td&gt;
      &lt;td&gt;í†µìƒ ì¸ì¦ ì´í›„ ë‹¨ê³„ì— ì§„í–‰í•©ë‹ˆë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì¼ë°˜ì ìœ¼ë¡œ &lt;strong&gt;ID Token&lt;/strong&gt;ì„ í†µí•´ ì •ë³´ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.&lt;/td&gt;
      &lt;td&gt;ì¼ë°˜ì ìœ¼ë¡œ &lt;strong&gt;Access Token&lt;/strong&gt;ì„ í†µí•´ ì •ë³´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ì¼ë°˜ì ìœ¼ë¡œ &lt;strong&gt;OIDC í”„ë¡œí† ì½œ&lt;/strong&gt;ì— ì˜í•´ ê´€ë¦¬ë©ë‹ˆë‹¤.&lt;/td&gt;
      &lt;td&gt;ì¼ë°˜ì ìœ¼ë¡œ &lt;strong&gt;OAuth 2.0 í”„ë ˆì„ì›Œí¬&lt;/strong&gt;ì— ì˜í•´ ê´€ë¦¬ë©ë‹ˆë‹¤.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;blockquote&gt;
  &lt;p&gt;ğŸ’¡ ìœ„ ë¹„êµí‘œì— &lt;strong&gt;Bold&lt;/strong&gt;ì²˜ë¦¬ëœ í‚¤ì›Œë“œê°€ ì˜¤ëŠ˜ í¬ìŠ¤íŒ…ì„ ì´í•´í•˜ê¸° ìœ„í•œ í•µì‹¬ ìš©ì–´ì´ë¯€ë¡œ ì£¼ëª©í•´ ì£¼ì„¸ìš”!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;-oauth-20&quot;&gt;â›° OAuth 2.0&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;OAuth 2.0 Authorization Framework&lt;/strong&gt;ì˜ &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6749&quot;&gt;RFC ë¬¸ì„œ&lt;/a&gt;ì˜ Abstract ë¶€ë¶„ì„ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•©ë‹ˆë‹¤.
&lt;em&gt;â€œOAuth 2.0 ì¸ê°€ í”„ë ˆì„ì›Œí¬ëŠ” ì„œë“œíŒŒí‹° ì•±ë“¤ì´ ì œí•œëœ ê¶Œí•œì„ ì–»ëŠ” ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.â€&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì—¬ëŸ¬ë¶„ë“¤ì€ íŠ¹ì • ì„œë¹„ìŠ¤ íšŒì‚¬ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì´ìš©í•  ë•Œ, êµ¬ê¸€ì´ë‚˜ í˜ì´ìŠ¤ë¶ìœ¼ë¡œë¶€í„° íŠ¹ì • ê¶Œí•œì„ ë°›ì•„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•œ ê²½í—˜ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
&lt;strong&gt;êµ¬ê¸€ ê³„ì •&lt;/strong&gt; ì •ë³´ì˜ &lt;a href=&quot;https://myaccount.google.com/permissions&quot;&gt;ë‚´ ê³„ì •ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ì•±&lt;/a&gt;ì— ë“¤ì–´ê°€ í™•ì¸í•´ ë³´ì‹œë©´,
ë‚´ ê³„ì •ì´ ì–´ë–¤ ì•±ë“¤ì´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆê²Œ ê¶Œí•œì„ ì£¼ì—ˆëŠ”ì§€ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/security/oauth.png&quot; alt=&quot;OAuth 2.0&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ ì‚¬ì§„ì„ í†µí•´, êµ¬ê¸€ì´ &lt;strong&gt;OAuth í”„ë ˆì„ì›Œí¬&lt;/strong&gt;ë¥¼ ì‚¬ìš©í•´ Meetup, Notion, Slackê³¼ ê°™ì€ &lt;strong&gt;ì„œë“œíŒŒí‹° ì•±&lt;/strong&gt;ë“¤ì—ê²Œ
ê³„ì •ì˜ ì´ë©”ì¼ ì£¼ì†Œ í™•ì¸, ê°œì¸ì •ë³´ ë³´ê¸° ë“±ê³¼ ê°™ì€ &lt;strong&gt;ì œí•œëœ ê¶Œí•œ&lt;/strong&gt;ì— ëŒ€í•˜ì—¬ &lt;strong&gt;ì¸ê°€&lt;/strong&gt;ë¥¼ í•´ì¤¬ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;slackìœ¼ë¡œ-ì•Œì•„ë³´ëŠ”-oauth-20-flow&quot;&gt;Slackìœ¼ë¡œ ì•Œì•„ë³´ëŠ” OAuth 2.0 Flow&lt;/h3&gt;

&lt;p&gt;OAuthì— ì›Œí¬í”Œë¡œë¥¼ ì•Œì•„ë³´ê¸° ì „ì—, ìì£¼ ì–¸ê¸‰ë˜ëŠ” í•µì‹¬ ìš©ì–´ë“¤ì„ ì–¸ê¸‰í•˜ê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Client : ì¸ê°€ë¥¼ ë°›ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ (ë°°ë‹¬ì˜ ë¯¼ì¡±, ì•¼ë†€ì, ì˜¤ëŠ˜ì˜ ì§‘ ë“±)&lt;/li&gt;
  &lt;li&gt;Resource Server : ì œì–´í•˜ê³ ì í•˜ëŠ” ìì›(Protected Resource)ì„ ê°€ì§„ ì„œë²„ (êµ¬ê¸€, í˜ì´ìŠ¤ë¶, ê¹ƒí—™)&lt;/li&gt;
  &lt;li&gt;Resource Owner : ìì›ì˜ ì†Œìœ ì (end-user)&lt;/li&gt;
  &lt;li&gt;Authorization Server : AuthZ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ì„œë²„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë‹¤ì‹œ &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc6749&quot;&gt;RFC ë¬¸ì„œ&lt;/a&gt;ë¡œ ëŒì•„ì™€ì„œ í•´ë‹¹ í”„ë¡œí† ì½œì˜ Flowë¥¼ ì•ì„œ ë³´ì—¬ë“œë¦° ì˜ˆì‹œì²˜ëŸ¼ ìš°ë¦¬ì˜ ê²½í—˜ì— ë¹—ëŒ€ì–´ ì„¤ëª…í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Abstract Protocol Flow&lt;/span&gt;
+--------+                               +---------------+
|        |--&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;- Authorization Request -&amp;gt;|   Resource    |
|        |                               |     Owner     |
|        |&amp;lt;-&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;B&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; Authorization Grant &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;|               |
|        |                               +---------------+
|        |
|        |                               +---------------+
|        |--&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; Authorization Grant &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;| Authorization |
| Client |                               |     Server    |
|        |&amp;lt;-&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;D&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-----&lt;/span&gt; Access Token &lt;span class=&quot;nt&quot;&gt;-------&lt;/span&gt;|               |
|        |                               +---------------+
|        |
|        |                               +---------------+
|        |--&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;E&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-----&lt;/span&gt; Access Token &lt;span class=&quot;nt&quot;&gt;------&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;|    Resource   |
|        |                               |     Server    |
|        |&amp;lt;-&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;F&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt; Protected Resource &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;|               |
+--------+                               +---------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìš°ì„  A &amp;amp; Bì— í•´ë‹¹í•˜ëŠ” Clientê°€ Resource Ownerì—ê²Œ AuthZë¥¼ ìš”ì²­í•˜ê³  ìŠ¹ì¸ ì ˆì°¨ë¥¼ Slack ë¡œê·¸ì¸ì„ í†µí•´ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/security/googleOAuth.png&quot; alt=&quot;login&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ ì´ë¯¸ì§€ì—ì„œ Clientì¸ slackì€ Googleê³¼ Apple 2ê°€ì§€ ë°©ì‹ì˜ OAuthë¥¼ ì œê³µí•©ë‹ˆë‹¤.
â€˜Googleë¡œ ê³„ì†â€™ì´ë¼ëŠ” ë²„íŠ¼(A ë‹¨ê³„, AuthZ ìš”ì²­)ì„ ëˆ„ë¥´ë©´, slackì´ ê³„ì •ì˜ ì´ë¦„, ì´ë©”ì¼, í”„ë¡œí•„ ì‚¬ì§„ ë“±ì˜ ì •ë³´ ê³µìœ ë¥¼ ìš”ì²­í–ˆë‹¤ëŠ” ê²ƒì„ êµ¬ê¸€ì˜ Authorization Serverë¡œë¶€í„° ë°›ìŠµë‹ˆë‹¤.
í•´ë‹¹ ì‹œì ì˜ ì›¹ë¸Œë¼ìš°ì € URIë¥¼ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. &lt;em&gt;(í¸ì˜ìƒ URIì„ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê³ , Decode í•˜ì—¬ í‘œê¸°í–ˆìŠµë‹ˆë‹¤.)&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;https://accounts.google.com/o/oauth2/v2/auth/oauthchooseaccount? &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;client_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;6XXXXXXXX.apps.googleusercontent.com&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;redirect_uri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;https://oauth2.slack.com/get-started/oauth/google/end&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;openid email profile&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;response_type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;code&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;access_type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;offline&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;prompt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;consent&amp;amp; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;flowName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;GeneralOAuthFlow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìŠ¬ë™ì˜ ê¶Œí•œ ë¶€ì—¬ì˜ ê²½ìš°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://accounts.google.com/{ì´í•˜ ìƒëµ}&lt;/code&gt;ì´ë¼ëŠ” Authorization Serverì˜ ì£¼ì†Œì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;client_id&lt;/code&gt;ë¥¼ í¬í•¨í•œ 8ê°œì˜ querystringìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì—¬ê¸°ì„œ ìƒìœ„ 4ê°œì˜ querystringì€ ì¸ê°€ë¥¼ ìœ„í•œ &lt;strong&gt;í•„ìˆ˜ íŒŒë¼ë¯¸í„°&lt;/strong&gt;ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;client_id&lt;/code&gt; : clientë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•´ Register ë‹¨ê³„ì—ì„œ ìƒì„±ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹ë³„ì&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;redirect_uri&lt;/code&gt; : authorization codeë¥¼ ì „ë‹¬ë°›ì„ client ì„œë²„ì˜ URI&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt; : ì¸ê°€í•  ê¶Œí•œì„ ëª…ì‹œ&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;response_type&lt;/code&gt; : code, token ë“± OAuthì— ì ìš©í•  ë°©ì‹ì˜ íƒ€ì…&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;authorization-code-grant&quot;&gt;Authorization Code Grant&lt;/h3&gt;

&lt;p&gt;ìº¡ì²˜í™”ë©´ì—ì„œëŠ” ìš°ë¦¬ì˜ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ Aì™€ Bì˜ ë‹¨ê³„ê°€ í´ë¦­ 2ë²ˆìœ¼ë¡œ ëë‚˜ì§€ë§Œ, ì‚¬ì‹¤ Aì™€ B ì‚¬ì´ì—ëŠ” ë” ë³µì¡í•œ ë‹¨ê³„ë“¤ì´ ìˆ¨ê²¨ì ¸ ìˆìŠµë‹ˆë‹¤.
ì•„ë˜ RFC ë¬¸ì„œì— ê¸°ì¬ëœ &lt;strong&gt;Authorization Code Grant&lt;/strong&gt;ë¥¼ ì‚´í´ë³´ë©° A ì´í›„ì˜ ë‹¨ê³„ë“¤ì„ ì‚´ì§ ë³´ê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤. ğŸ«£&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+----------+
| Resource |
|   Owner  |
|          |
+----------+
     ^
     |
    &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;B&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+----|-----+          Client Identifier      +---------------+
|         -+----&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; &amp;amp; Redirection URI &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;|               |
|  User-   |                                 | Authorization |
|  Agent  -+----&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;B&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; User authenticates &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;|     Server    |
|          |                                 |               |
|         -+----&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; Authorization Code &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;&amp;lt;|               |
+-|----|---+                                 +---------------+
  |    |                                         ^      v
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;A&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;                                        |      |
  |    |                                         |      |
  ^    v                                         |      |
+---------+                                      |      |
|         |&amp;gt;---&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;D&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt; Authorization Code &lt;span class=&quot;nt&quot;&gt;---------&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'      |
|  Client |          &amp;amp; Redirection URI                  |
|         |                                             |
|         |&amp;lt;---(E)----- Access Token -------------------'&lt;/span&gt;
+---------+       &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;w/ Optional Refresh Token&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ ìŠ¹ì¸ Flowì˜ User-AgentëŠ” ìš°ë¦¬ì˜ ì›¹ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤. 
ë¸Œë¼ìš°ì €ëŠ” ì¸ê°€ ì„œë²„ì˜ URIì— querystringìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;client_id&lt;/code&gt;ì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;redirect_uri&lt;/code&gt;ë¥¼ ë¶™ì—¬ ì¸ê°€ ì„œë²„ì— ì „ë‹¬í•˜ë©´(A),
ì¸ê°€ ì„œë²„ëŠ” &lt;strong&gt;ê²€ì¦&lt;/strong&gt; ì‘ì—…ì„ ê±°ì³ &lt;strong&gt;Authorization Code&lt;/strong&gt;ì„ ë°œê¸‰(C) í•©ë‹ˆë‹¤.
&lt;strong&gt;Authorization Code&lt;/strong&gt;ë¥¼ ë°›ì€ ë¸Œë¼ìš°ì €ëŠ” Clientì—ê²Œ ì „ë‹¬(C) í•˜ê³ , ClientëŠ” ë‹¤ì‹œ ì¸ê°€ ì„œë²„ì—ê²Œ Codeë¥¼ ë³´ë‚´ê³ (D)
Access Tokenì„ ëŒë ¤ë°›ìŠµë‹ˆë‹¤(E).
ì´í›„ ClientëŠ” ìƒì„±ëœ &lt;strong&gt;Access Token&lt;/strong&gt;ì„ í™œìš©í•´ scopeì— ëª…ì‹œëœ ê¸°ëŠ¥ì„ Resource Serverë¡œë¶€í„° ì œê³µë°›ìŠµë‹ˆë‹¤.
í•´ë‹¹ ì ˆì°¨ê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Abstract Protocol Flow&lt;/code&gt; ê·¸ë¦¼ì˜ B ~ Fì— í•´ë‹¹í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ ìƒì†Œí•œ ì •ë³´ë“¤ì„ ìŸì•„ë‚´ë‹¤ ë³´ë‹ˆ, ë…ì ì—¬ë ¤ë¶„ë“¤ì´ êµ‰ì¥íˆ í˜¼ë€ìŠ¤ëŸ¬ìš¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. (ì²˜ìŒ OAuthë¥¼ ê³µë¶€í–ˆë˜ ì œê°€ ê·¸ë¬ìŠµë‹ˆë‹¤ ğŸ˜µâ€ğŸ’«)
ì²˜ìŒë¶€í„° ëª¨ë“  ê³¼ì •ì„ ì´í•´í•˜ë ¤ í•˜ë©´ ì–´ë ¤ìš°ë‹ˆ, ëŒ€ëµì ì¸ íë¦„ë§Œ íŒŒì•…í•˜ê³  ë„˜ì–´ê°€ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤. ì´í›„ OIDCì—ì„œ ì˜ˆì‹œì™€ í•¨ê»˜ ë˜ ë‹¤ë£° ì˜ˆì •ì´ê±°ë“ ìš” ğŸ™ƒ&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ğŸ› ìœ„ 2ê°€ì§€ Flowê°€ OAuth 2.0ì˜ ì „ì²´ FlowëŠ” ì•„ë‹™ë‹ˆë‹¤. Client Register, Refresh Token ë“± &lt;strong&gt;ì¤‘ìš” ê°œë…ë“¤ì´ ìƒë‹¹íˆ ìƒëµ&lt;/strong&gt; ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;openid-connectoidc&quot;&gt;OpenID Connect(OIDC)&lt;/h2&gt;

&lt;p&gt;ì–¼ë ëš±ë•… OAuthë¥¼ ë„˜ê¸°ê³  ë“œë””ì–´ OpenID Connect ìˆœì„œì— ë‹¤ ë‹¤ë¥´ì—ˆìŠµë‹ˆë‹¤. OIDCë¥¼ ë‹¤ë£¨ê¸° ì „, &lt;strong&gt;OpenID&lt;/strong&gt;ê°€ ë¬´ì—‡ì¸ì§€ &lt;a href=&quot;https://openid.net/what-is-openid/&quot;&gt;OpenID ì¬ë‹¨ì˜ ì„¤ëª…&lt;/a&gt;ì—ì„œ ëª‡ ê°€ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;openid&quot;&gt;OpenID&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;OpenIDëŠ” ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë§Œë“¤ í•„ìš” ì—†ì´, ê¸°ì¡´ ê³„ì •ì„ ì‚¬ìš©í•´ ì—¬ëŸ¬ ì›¹ì‚¬ì´íŠ¸ì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;OpenIDë¥¼ ì‚¬ìš©í•˜ë©´ ì›¹ì‚¬ì´íŠ¸ì™€ ê³µìœ ë˜ëŠ” ì •ë³´ì˜ ì–‘ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;ë‹¹ì‹ ì˜ ë¹„ë°€ë²ˆí˜¸ì€ Identity provider(Idp)ì—ê²Œë§Œ ì£¼ì–´ì§€ë©°, Idpê°€ ì‹ ì›ì„ í™•ì¸í•˜ë¯€ë¡œ ì•ˆì „í•˜ì§€ ì•Šì€ ì›¹ì‚¬ì´íŠ¸ê°€ ë‹¹ì‹ ì˜ ì‹ ì›ì„ í›¼ì†í•˜ëŠ” ê²ƒì— ëŒ€í•´ ê±±ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;âš¡ï¸ OpenID 2.0ì€ OpenID Connectë¡œ ëŒ€ì²´ë˜ì—ˆìŠµë‹ˆë‹¤. &lt;a href=&quot;https://openid.net/developers/libraries/obsolete/&quot;&gt;Ref. Libraries for Obsolete Specifications&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;using-oauth-20-to-access-apis&quot;&gt;Using OAuth 2.0 to Access APIs&lt;/h3&gt;

&lt;p&gt;ì´ì–´ì„œ, &lt;a href=&quot;https://openid.net/connect/&quot;&gt;OpenID ì¬ë‹¨ì˜ ì„¤ëª…&lt;/a&gt;ì˜ OIDCëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
â€œOpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol.â€ OIDCê°€ OAuth í”„ë¡œí† ì½œì˜ ìƒìœ„ ê°„ë‹¨í•œ ì‹ ì› ê³„ì¸µì´ë¼ëŠ” ë§ì´ ë¬´ì—‡ì„ ì˜ë¯¸í• ê¹Œìš”?
ì—¬ê¸°ì„œ ì•ì„œ slack ì˜ˆì‹œì—ì„œ ë§Œë‚œ OAuthì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt; ë¶€ë¶„ìœ¼ë¡œ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ ë³´ê² ìŠµë‹ˆë‹¤. (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope=openid email profile&lt;/code&gt;) í•´ë‹¹ íŒŒë¼ë¯¸í„°ì—ëŠ” ì¸ê°€í•  ë¦¬ì†ŒìŠ¤ê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openid&lt;/code&gt;ë¡œ ê¸°ì¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ì¦‰, slackì€ ì œ í”„ë¡œí•„ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ &lt;strong&gt;OAuth 2.0&lt;/strong&gt;ì„ ì‚¬ìš©í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Google OAuth2 API v2&lt;/code&gt;ë¥¼ í˜¸ì¶œí–ˆê³ , ì•¡ì„¸ìŠ¤í•˜ë ¤ëŠ” APIì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt;ì„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openid&lt;/code&gt;ë¡œ ì§€ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´í•´ë¥¼ ë•ê¸° ìœ„í•´, Google Developersì˜ &lt;a href=&quot;https://developers.google.com/oauthplayground/&quot;&gt;OAuth 2.0 Playground&lt;/a&gt;(Clientë¥¼ êµ¬ì¶•í•  í•„ìš” ì—†ì´, ë°ëª¨ í™˜ê²½ì„ ì œê³µ)ë¥¼ ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/security/playgroundOAuth.png&quot; alt=&quot;playground&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step1ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Google OAuth2 API v2&lt;/code&gt;ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt;ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;email&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;profile&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openid&lt;/code&gt;ë¥¼ ì§€ì •í•˜ê³  Authorize APIs ë²„íŠ¼ì„ ëˆ„ë¥´ë‹ˆ,
Clientë§Œ Google OAuth 2.0 Playgroundë¡œ ë°”ë€Œê³  slack ì˜ˆì‹œì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë°›ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ğŸ™ˆ í•´ë‹¹ URIë„ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë©´ paramterì˜ ìˆœì„œë§Œ ë‹¤ë¥¼ ë¿, í•„ìˆ˜ íŒŒë¼ë¯¸í„°ë¥¼ í¬í•¨í•˜ì—¬ slack ì˜ˆì‹œì™€ ë¹„ìŠ·í•œ URIë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Step2ì—ì„œëŠ” Idp(ì—¬ê¸°ì„œëŠ” êµ¬ê¸€ì˜ ì¸ì¦ ì„œë²„)ë¡œë¶€í„° ë°œê¸‰ëœ &lt;strong&gt;Authorization code&lt;/strong&gt;ë¥¼ í† í°ìœ¼ë¡œ ë°”ê¾¸ëŠ” &lt;strong&gt;Exchange authorization code for tokens&lt;/strong&gt; ë²„íŠ¼ì„ ëˆ„ë¥´ë©´,
&lt;strong&gt;Refresh token&lt;/strong&gt;ê³¼ &lt;strong&gt;Access token&lt;/strong&gt; Idpë¡œë¶€í„° ë°›ì•„ Playground ì›¹ í˜ì´ì§€ì— ë‚˜íƒ€ë‚˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/security/OAuthStep2.png&quot; alt=&quot;step2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ì–´ì„œ ì „ë‹¬ëœ Response ê°’ì„ í™•ì¸í•´ ë³´ë©´, íƒ€ OAuth 2.0 APIë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt;ìœ¼ë¡œ ì„ íƒí–ˆì„ ë•Œì™€ëŠ” ë‹¤ë¥´ê²Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_token&lt;/code&gt; ê°’ìœ¼ë¡œ JWT í˜•íƒœì˜ ê°’ì„ ë°›ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;id_token&quot;&gt;id_token&lt;/h3&gt;

&lt;p&gt;OIDCëŠ” OAuth 2.0ì˜ ìƒìœ„ ê³„ì¸µì´ë¯€ë¡œ ë™ì‘ ì›ë¦¬ê°€ OAuth 2.0ê³¼ ë™ì¼í•©ë‹ˆë‹¤. í•œ ê°€ì§€ ë‹¤ë¥¸ ì ì€, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_token&lt;/code&gt; ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
Step2ì—ì„œ ë°›ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id_token&lt;/code&gt; ê°’ì„ &lt;a href=&quot;https://jwt.io/&quot;&gt;jwt.io&lt;/a&gt;ì— ë³µì‚¬í•˜ì—¬ Decode í•œ ì •ë³´ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/post/security/jwt.png&quot; alt=&quot;jwt&quot; /&gt;&lt;/p&gt;

&lt;p&gt;jwtëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.&lt;/code&gt;ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ decode í•˜ë©´ ì•„ë˜ 3ê°€ì§€ í•„ë“œë¡œ ë‚˜ë‰©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;header : id í† í°ì˜ í˜•ì‹, í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì˜ ì¢…ë¥˜, ì•”í˜¸í™”ì— ì‚¬ìš©ëœ ê³µê°œí‚¤ ID&lt;/li&gt;
  &lt;li&gt;payload : ì‚¬ìš©ì ì¸ì¦ ì •ë³´ - (ë°œê¸‰ ê¸°ê´€, í† í°ì´ ë°œê¸‰ëœ ì•±, id í† í° ìœ ì €ì˜ ë²ˆí˜¸, ë°œê¸‰ ì‹œê°„, ë§Œë£Œ ì‹œê°„, ì´ë©”ì¼, ì´ë¦„, í”„ë¡œí•„ ì‚¬ì§„ ë“±)&lt;/li&gt;
  &lt;li&gt;signature : ì¸ì¦ ì„œë²„ì— headerì˜ ê³µê°œí‚¤ë¡œ ì„œëª…í•œ ê°’&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;clientëŠ” payloadì— ë‹´ê¸´ ì‚¬ìš©ì ì •ë³´ë¥¼ í™œìš©í•´ ìœ ì €ì˜ ì¸ì¦ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;recap&quot;&gt;Recap&lt;/h3&gt;

&lt;p&gt;ì—¬ê¸°ê¹Œì§€ í¬ìŠ¤íŒ…ì„ ì½ìœ¼ì…¨ë‹¤ë©´, ì•ë¶€ë¶„ì— ì–¸ê¸‰í–ˆë˜ &lt;strong&gt;Auth0(ì˜¤ìŠ¤ì œë¡œ)&lt;/strong&gt;ì˜ ì¸ì¦, ì¸ê°€ ë¹„êµí‘œë¥¼ ë– ì˜¬ë ¤ì£¼ì„¸ìš”.
&lt;strong&gt;OAuth&lt;/strong&gt;ëŠ” &lt;strong&gt;AuthZ(ì¸ê°€)&lt;/strong&gt;ì— ì´ˆì ì´ ë§ì¶° ì € &lt;strong&gt;Access Token&lt;/strong&gt;ìœ¼ë¡œ íŠ¹ì • ê¶Œí•œì„ í—ˆê°€í•´ ì¤„ ë¿ ì‚¬ìš©ìì˜ ì •ë³´ëŠ” ë‹´ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.
ë°˜ë©´, OIDCëŠ” &lt;strong&gt;ID Token&lt;/strong&gt;ì„ í†µí•´ ì •ë³´ë¥¼ ì „ì†¡í•˜ë©° &lt;strong&gt;AuthN(ì¸ì¦)&lt;/strong&gt;ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;outro&quot;&gt;Outro&lt;/h2&gt;

&lt;p&gt;ì´ë²ˆ í¬ìŠ¤íŒ…ì€ ê¸°ì¡´ì— ì˜¬ë¦° íƒ€ ê¸€ë“¤ë³´ë‹¤ ë§ì€ ë ˆí¼ëŸ°ìŠ¤ ë¬¸ì„œë“¤ì„ ì½ì—ˆìŠµë‹ˆë‹¤. ì´ë¯¸ ì˜¨ë¼ì¸ì— êµ‰ì¥íˆ ì˜ ì •ë¦¬ëœ ì½˜í…ì¸ ë“¤ì´ ë§ì§€ë§Œ,
ì œ ë‚˜ë¦„ëŒ€ë¡œ ì¬ê°€ê³µ í•˜ë‹¤ ë³´ë‹ˆ ë¶€ì¡±í•œ ë¶€ë¶„ë“¤ì´ ë§ìŠµë‹ˆë‹¤. ì œê²Œ ë§ì€ ë„ì›€ì´ ë˜ì—ˆë˜ ë ˆí¼ëŸ°ìŠ¤ë“¤ì„ ì•„ë˜ ì²¨ë¶€í•˜ë‹ˆ, í•¨ê»˜ ë³´ì‹œë©´ ë„ì›€ì´ ë§ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§ˆì§€ë§‰ìœ¼ë¡œ, &lt;a href=&quot;https://www.samsungsds.com/kr/insights/oidc.html&quot;&gt;Samsung SDSì˜ ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸&lt;/a&gt;ì—
ì‹¤ë¦° ìš”ì•½ì´ ì˜¤ëŠ˜ì˜ ì •ë³´ë“¤ì„ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ ì£¼ëŠ” ê²ƒ ê°™ì•„ í•¨ê»˜ ì²¨ë¶€í•˜ë©° ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤. (ìš”ì•½ëœ ë¬¸ì¥ì˜ ë‹¨ì–´ í•˜ë‚˜í•˜ë‚˜ê°€ í•´ë‹¹ ê¸°ìˆ ì˜ íŠ¹ì§•ì„ ì˜ ë‚˜íƒœë‚¸ë‹¤ëŠ” ìƒê°ì´ ë“œë„¤ìš” ğŸ˜Š)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;SAML 2.0 : 2001ë…„ OASISì—ì„œ ì •ì˜í•œ ê°œë°©í˜• Authentication(ì¸ì¦) ë° Authorization(ì¸ê°€) í‘œì¤€ì´ë©°, ì—”í„°í”„ë¼ì´ì¦ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ SSO(Single Sign On)ë¥¼ ëª©ì ìœ¼ë¡œ XML(Extensible Markup Language) í˜•ì‹ìœ¼ë¡œ ê°œë°œ&lt;/li&gt;
  &lt;li&gt;OAuth 2.0 : 2006ë…„ Twitterì™€ Googleì´ ì •ì˜í•œ ê°œë°©í˜• Authorization í‘œì¤€ì´ë©°, API í—ˆê°€ë¥¼ ëª©ì ìœ¼ë¡œ JSON(Javascript Object Notation) í˜•ì‹ìœ¼ë¡œ ê°œë°œ&lt;/li&gt;
  &lt;li&gt;OIDC 2.0 : 2014ë…„ OpenID Foundationì—ì„œ ì •ì˜í•œ ê°œë°©í˜• Authentication í‘œì¤€ì´ë©°, ì»¨ìŠˆë¨¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ SSOë¥¼ ëª©ì ìœ¼ë¡œ JSON í˜•ì‹ìœ¼ë¡œ ê°œë°œ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì†Œì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! íŠ¹íˆë‚˜ ì´ë²ˆ í¬ìŠ¤íŒ…ì€ ì˜ëª»ëœ ë‚´ìš© í˜¹ì€ ë¶€ì ì ˆí•œ ì„¤ëª…ì´ ìˆì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ììœ ë¡­ê²Œ ì§€ì í•´ ì£¼ì„¸ìš”!
ë²Œì¨ í¬ìŠ¤íŒ… ì´í›„ 3ë²ˆì´ë‚˜ ë‹¤ì‹œ ë°°í¬í•˜ê²Œ ë˜ì—ˆë„¤ìš”. ğŸ˜ƒ&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;-references&quot;&gt;ğŸ“š References&lt;/h2&gt;

&lt;h3 id=&quot;ssosaml--oauth-20&quot;&gt;SSO(SAML &amp;amp; OAuth 2.0)&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.okta.com/identity-101/saml-vs-oauth/&quot;&gt;SAML vs. OAuth: Comparison and Differences&lt;/a&gt; : SAML, OAuth 2.0 ë™ì‘ ì›ë¦¬ ì„¤ëª…&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.worksmobile.com/kr/document/2001001?lang=ko&quot;&gt;NAVER WORKS Developers, SSO ê°œìš”&lt;/a&gt; : ë„¤ì´ë²„ ì›ìŠ¤ì—ì„œ SAML, OAuth 2.0 êµ¬í˜„ ë°©ë²• ì†Œê°œ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.oasis-open.org/committees/download.php/27819/sstc-saml-tech-overview-2.0-cd-02.pdf&quot;&gt;OASIS, SAML V2.0 Technical Overview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;oauth-20&quot;&gt;OAuth 2.0&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ietf.org/rfc/rfc6750.txt&quot;&gt;OAuth 2.0 RFC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://opentutorials.org/course/3405&quot;&gt;ìƒí™œì½”ë”©, WEB2 - OAuth 2.0&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;oidc&quot;&gt;OIDC&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.samsungsds.com/kr/insights/oidc.html&quot;&gt;Samsung SDS, í¸ì˜ì„±ì„ ë†’ì¸ ID ì¸ì¦ ê´€ë¦¬ - OIDC(OpenID Connect)ê°€ ì£¼ëª© ë°›ëŠ” ì´ìœ &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.kakao.com/docs/latest/ko/kakaologin/common#oidc&quot;&gt;kakao developers, OIDC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://openid.net/specs/openid-connect-core-1_0.html&quot;&gt;OpenID Connect Spec&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.daleseo.com/google-oidc/&quot;&gt;DaleSeo, êµ¬ê¸€ OpenID Connect ì‚¬ìš©ë²•&lt;/a&gt; : ì‹¤ìŠµ ì½”ë“œ ì œê³µ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://coffeewhale.com/kubernetes/authentication/oidc/2020/05/04/auth03/&quot;&gt;k8s ì¸ì¦ ì™„ë²½ì´í•´ #3 - OpenID Connect&lt;/a&gt; : ì¿ ë²„ë„¤í‹°ìŠ¤ ì¸ì¦ì„ ì„¤ëª…í•˜ëŠ” ê¸€ì´ì§€ë§Œ, OIDCë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ì•„ì£¼ ì¢‹ì€ ê¸€&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;hands-on&quot;&gt;Hands-On&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.google.com/oauthplayground/&quot;&gt;OAuth 2.0 Playground&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jwt.io/&quot;&gt;jwt.io&lt;/a&gt; : jwt í† í° Decode&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.github.com/en/developers/apps/building-oauth-apps/creating-an-oauth-app&quot;&gt;Github Docs, Building OAuth App&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.passportjs.org/concepts/authentication/oauth/&quot;&gt;passportjs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ê¸°íƒ€-ë„ì›€ì´-ë˜ëŠ”-ì½˜í…ì¸ &quot;&gt;ê¸°íƒ€ ë„ì›€ì´ ë˜ëŠ” ì½˜í…ì¸ &lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://youtu.be/1QiOXWEbqYQ&quot;&gt;ì–„íŒí•œ ì½”ë”©ì‚¬ì „, ì„¸ì…˜ VS í† í°! JWTê°€ ë­”ê°€ìš”?&lt;/a&gt; : ë°°ê²½ ì§€ì‹ì´ ì—†ë‹¤ë©´, ì´ ì˜ìƒ ë¨¼ì € ë³´ëŠ” ê²ƒì„ ì¶”ì²œ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.okta.com/identity-101/whats-the-difference-between-oauth-openid-connect-and-saml/&quot;&gt;okta, Whatâ€™s the Difference Between OAuth, OpenID Connect, and SAML?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;</content>

      
      
      
      
      

      <author>
          <name>Jihun Lim</name>
        
        
      </author>

      

      
        <category term="security" />
      

      
        <summary type="html">Journey to OIDC through authentication, authorization, SAML, and OAuth.</summary>
      

      
      
    </entry>
  
</feed>
